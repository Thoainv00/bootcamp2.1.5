<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quản lý sản phẩm</title>
</head>
<body>
<div style="width: 430px;height: 80px">
    <h3>Add New Product</h3>
    <div style="border: 1px solid lightgray;background: lightgrey ">
        <input id="name" style="width:100px; margin:5px" placeholder="New product">
        <input id="Mfd" style="width:120px; margin:5px" placeholder="Manufactured date">
        <input id="Exd" style="width:100px; margin:5px" placeholder="Expried date">
        <button type="button" style="background: lightgreen" onclick="add()">Add</button>

    </div>
</div>
<h3>Display All Product</h3>
<table>
    <thead>
    <th colspan="5" align="left">Product Name</th>
    <th id="sum" align="right" style="color: red"></th>
    </thead>
    <tbody id="push">
    </tbody>
</table>
<script>
    class Product {
        name;
        Mfd;
        Exd;

        constructor(name, Mfd, Exd) {
            this.name = name
            this.Mfd = Mfd
            this.Exd = Exd
        }
    }

    let Sony = new Product("Sony Xperia", "5/1/2023", "20/4/2030")
    let Samsung = new Product("Samsung Galaxy", "10/1/2023", "21/5/2030")
    let Nokia = new Product("Nokia 6", "10/1/2023", "22/6/2030")
    let arr = [Sony, Samsung, Nokia]


    function Display(arr) {
        let str = ""
        for (let i = 0; i < arr.length; i++)
            str += `<tr><td>` + arr[i].name + `</td>
                      <td>` + arr[i].Mfd + `</td>
                      <td>` + arr[i].Exd + `</td>
                      <td><button type="button" onclick="Edit(` + i + `)" style="background:lightgreen">Edit</button></td>
                      <td><button type="button" onclick="Delete(` + i + `)" style="background:lightgreen">Delete</button></td></tr>`
        document.querySelector("#push").innerHTML = str
        document.querySelector("#sum").innerText = arr.length + " products"
    }

    Display(arr)

    function add() {
        let name = document.querySelector("#name").value
        let Mfd = document.querySelector("#Mfd").value
        let Exd = document.querySelector("#Exd").value
        let product = new Product(name, Mfd, Exd)
        arr.push(product)
        Display(arr)
    }

    function Delete(x) {
        let arr1 = []
        for (let i = 0; i < arr.length; i++)
            if (i != x) arr1.push(arr[i])
        arr = arr1
        Display(arr)
    }

    function Edit(x) {
        let name = document.querySelector("#name").value
        if (name) arr[x].name = name
        let Mfd = document.querySelector("#Mfd").value
        if (Mfd) arr[x].Mfd = Mfd
        let Exd = document.querySelector("#Exd").value
        if (Exd) arr[x].Exd = Exd
        Display(arr)

    }

</script>

</body>
</html>